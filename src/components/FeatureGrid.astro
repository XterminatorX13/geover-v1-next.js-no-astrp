---
import { Image } from 'astro:assets';
import LoadingSkeleton from './LoadingSkeleton.astro';

// Simulate async data fetching
const features = await new Promise(resolve => {
  setTimeout(() => {
    resolve([
      {
        id: 1,
        title: "Islands Architecture",
        description: "Ship only the JavaScript you need with selective hydration",
        image: "https://images.pexels.com/photos/1181671/pexels-photo-1181671.jpeg?auto=compress&cs=tinysrgb&w=400",
        icon: "üèùÔ∏è"
      },
      {
        id: 2,
        title: "Zero-JS by Default",
        description: "Static HTML generation with optional client-side interactivity",
        image: "https://images.pexels.com/photos/1181244/pexels-photo-1181244.jpeg?auto=compress&cs=tinysrgb&w=400",
        icon: "‚ö°"
      },
      {
        id: 3,
        title: "Optimal Performance",
        description: "Perfect Lighthouse scores and Core Web Vitals compliance",
        image: "https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=400",
        icon: "üöÄ"
      },
      {
        id: 4,
        title: "SEO Optimized",
        description: "Built-in SEO features with structured data and meta tags",
        image: "https://images.pexels.com/photos/1181298/pexels-photo-1181298.jpeg?auto=compress&cs=tinysrgb&w=400",
        icon: "üîç"
      }
    ]);
  }, 100);
});
---

<section id="features" class="py-20 bg-gray-50">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl font-bold mb-4">Powerful Features</h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">
        Experience the next generation of web development with Astro's innovative approach
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      {features.map((feature) => (
        <div class="bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
          <div class="relative h-48">
            <img
              src={feature.image}
              alt={feature.title}
              class="w-full h-full object-cover"
              loading="lazy"
              decoding="async"
            />
            <div class="absolute top-4 left-4 text-3xl bg-white rounded-full w-12 h-12 flex items-center justify-center shadow-md">
              {feature.icon}
            </div>
          </div>
          
          <div class="p-6">
            <h3 class="text-xl font-semibold mb-3">{feature.title}</h3>
            <p class="text-gray-600 leading-relaxed">{feature.description}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>